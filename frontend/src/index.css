@import "tailwindcss";
@import "tw-animate-css";

@custom-variant dark (&:is(.dark *));

/* ==========================================================================
   TEMA MODERN UI: INDIGO PREMIUM & ZINC
   ========================================================================== */

@theme {
  /* Mapeo de variables CSS a utilidades de Tailwind */
  --color-background: var(--background);
  --color-foreground: var(--foreground);

  --color-primary: var(--primary);
  --color-primary-foreground: var(--primary-foreground);

  --color-secondary: var(--secondary);
  --color-secondary-foreground: var(--secondary-foreground);

  --color-muted: var(--muted);
  --color-muted-foreground: var(--muted-foreground);

  --color-accent: var(--accent);
  --color-accent-foreground: var(--accent-foreground);

  --color-destructive: var(--destructive);
  --color-destructive-foreground: var(--destructive-foreground);

  --color-border: var(--border);
  --color-input: var(--input);
  --color-ring: var(--ring);

  --color-card: var(--card);
  --color-card-foreground: var(--card-foreground);

  --color-popover: var(--popover);
  --color-popover-foreground: var(--popover-foreground);

  /* Radio más suave y moderno (12px) */
  --radius: 0.75rem;
  
  /* Animaciones adicionales */
  --animate-accordion-down: accordion-down 0.2s ease-out;
  --animate-accordion-up: accordion-up 0.2s ease-out;

  @keyframes accordion-down {
    from { height: 0; }
    to { height: var(--radix-accordion-content-height); }
  }
  @keyframes accordion-up {
    from { height: var(--radix-accordion-content-height); }
    to { height: 0; }
  }
}

/* ==========================================================================
   VARIABLES DE COLOR (OKLCH) – LOOK "TECH STARTUP"
   ========================================================================== */

:root {
  /* Fondo: Blanco puro con un toque imperceptible de calidez para evitar fatiga visual */
  --background: oklch(1 0 0);
  /* Texto: Zinc muy oscuro (no negro puro), más elegante */
  --foreground: oklch(0.141 0.005 285.823);

  /* Cards: Blanco puro, elevado */
  --card: oklch(1 0 0);
  --card-foreground: oklch(0.141 0.005 285.823);

  --popover: oklch(1 0 0);
  --popover-foreground: oklch(0.141 0.005 285.823);

  /* PRIMARY: INDIGO VIBRANTE (El cambio principal) 
     Más profundo que el azul estándar, denota calidad y confianza. */
  --primary: oklch(0.488 0.243 264.376); 
  --primary-foreground: oklch(0.985 0 0);

  /* Secondary: Zinc muy claro para fondos de botones secundarios */
  --secondary: oklch(0.97 0.001 290);
  --secondary-foreground: oklch(0.21 0.006 285);

  /* Muted: Para textos secundarios y fondos desactivados */
  --muted: oklch(0.97 0.001 290);
  --muted-foreground: oklch(0.552 0.016 285);

  /* Accent: Para hovers y selecciones */
  --accent: oklch(0.967 0.001 286);
  --accent-foreground: oklch(0.21 0.006 285);

  /* Destructive: Rojo suave pero claro */
  --destructive: oklch(0.637 0.237 25.331);
  --destructive-foreground: oklch(0.985 0 0);

  /* Bordes: Sutiles, apenas visibles para menor ruido visual */
  --border: oklch(0.92 0.004 286);
  --input: oklch(0.92 0.004 286);
  
  /* Ring: Coincide con el primario pero con opacidad controlada por Tailwind */
  --ring: oklch(0.488 0.243 264.376);

  /* Charts: Paleta armoniosa */
  --chart-1: oklch(0.488 0.243 264.376); /* Primary match */
  --chart-2: oklch(0.696 0.17 162.48);  /* Teal complementario */
  --chart-3: oklch(0.769 0.188 70.08);  /* Naranja suave */
  --chart-4: oklch(0.627 0.265 303.9);  /* Rosa/Violeta */
  --chart-5: oklch(0.645 0.246 16.439); /* Rojo/Coral */

  --radius: 0.75rem;

  /* Magic UI Specifics - Ajustados al nuevo Indigo */
  --magicui-card-bg: rgba(255, 255, 255, 0.8);
  --magicui-card-border: rgba(228, 228, 231, 0.6); /* Zinc-200 */
  --magicui-card-shadow: 0 8px 30px rgba(0, 0, 0, 0.04);
  --warp-background-color: #fafafa;
  --magicui-shiny-1: #ffffff;
  --magicui-shiny-2: #6366f1; /* Indigo-500 */
  --magicui-sparkles-color: #6366f1;
}

/* MODO OSCURO: Profundo, "Midnight", no gris lavado */
.dark {
  --background: oklch(0.1 0.005 285); /* Casi negro, tinte azul muy profundo */
  --foreground: oklch(0.985 0 0);

  --card: oklch(0.12 0.005 285); /* Un poco más claro que el fondo */
  --card-foreground: oklch(0.985 0 0);

  --popover: oklch(0.12 0.005 285);
  --popover-foreground: oklch(0.985 0 0);

  /* Primary Dark: Un poco más brillante para resaltar sobre oscuro */
  --primary: oklch(0.6 0.24 264); 
  --primary-foreground: oklch(0.985 0 0);

  --secondary: oklch(0.2 0.01 285);
  --secondary-foreground: oklch(0.985 0 0);

  --muted: oklch(0.2 0.01 285);
  --muted-foreground: oklch(0.7 0.01 285);

  --accent: oklch(0.2 0.01 285);
  --accent-foreground: oklch(0.985 0 0);

  --destructive: oklch(0.396 0.141 25.723);
  --destructive-foreground: oklch(0.985 0 0);

  --border: oklch(0.2 0.01 285);
  --input: oklch(0.2 0.01 285);
  --ring: oklch(0.5 0.24 264);

  --chart-1: oklch(0.6 0.24 264);
  --chart-2: oklch(0.696 0.17 162.48);
  --chart-3: oklch(0.769 0.188 70.08);
  --chart-4: oklch(0.627 0.265 303.9);
  --chart-5: oklch(0.645 0.246 16.439);

  --magicui-card-bg: rgba(24, 24, 27, 0.8); /* Zinc-950 */
  --magicui-card-border: rgba(63, 63, 70, 0.5); /* Zinc-700 */
  --magicui-card-shadow: 0 8px 30px rgba(0, 0, 0, 0.5);
  --warp-background-color: #09090b;
}

/* ==========================================================================
   ESTILOS BASE MEJORADOS
   ========================================================================== */

@layer base {
  * {
    @apply border-border outline-ring/50;
  }
  
  html {
    scroll-behavior: smooth;
    -webkit-font-smoothing: antialiased;
    -moz-osx-font-smoothing: grayscale;
  }

  body {
    @apply bg-background text-foreground;
    /* SUSTITUCIÓN DE IMAGEN DE FONDO POR PATRÓN CSS MODERNO 
       Esto carga instantáneamente, se ve nítido en 4K y es más profesional.
    */
    background-color: var(--background);
    background-image: radial-gradient(var(--border) 1px, transparent 1px);
    background-size: 24px 24px;
    background-attachment: fixed;
    /* Si el patrón es muy fuerte, usa mask-image para suavizarlo en los bordes si lo deseas, 
       pero este radial-gradient simple es el estándar "clean look". */
  }
}

/* ==========================================================================
   UTILIDADES & SCROLLBARS
   ========================================================================== */

/* Scrollbar minimalista y moderna */
::-webkit-scrollbar {
  width: 8px;
  height: 8px;
}
::-webkit-scrollbar-track {
  background: transparent;
}
::-webkit-scrollbar-thumb {
  @apply bg-muted-foreground/20 rounded-full transition-colors;
}
::-webkit-scrollbar-thumb:hover {
  @apply bg-muted-foreground/40;
}

.scrollbar-hide {
  -ms-overflow-style: none;
  scrollbar-width: none;
}
.scrollbar-hide::-webkit-scrollbar {
  display: none;
}

/* Spinner */
.loading-spinner {
  @apply animate-spin rounded-full h-6 w-6 border-[3px] border-primary/30 border-t-primary;
}

/* ==========================================================================
   ANIMACIONES CUSTOM (MAGIC UI + GLOBALES)
   ========================================================================== */

@keyframes pulse-subtle {
  0%, 100% { opacity: 1; }
  50% { opacity: 0.8; }
}
.animate-pulse-subtle {
  animation: pulse-subtle 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@theme inline {
  --animate-grid: grid 20s linear infinite;
  @keyframes grid {
    0% { transform: translateY(-50%); }
    100% { transform: translateY(0); }
  }
}